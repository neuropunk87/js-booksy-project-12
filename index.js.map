{"version":3,"file":"index.js","sources":["../src/js/api.js","../src/js/header.js","../src/js/hero.js","../src/js/books.js","../src/js/feedbacks.js","../src/js/events.js","../src/js/footer.js","../src/js/modal.js","../src/js/scrollbtn.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_BASE = 'https://books-backend.p.goit.global/books';\n\nexport async function fetchCategories() {\n  const res = await axios.get(`${API_BASE}/category-list`);\n  return res.data;\n}\n\nexport async function fetchBooksByCategory(category) {\n  const res = await axios.get(`${API_BASE}/category`, {\n    params: { category },\n  });\n  return res.data;\n}\n\nexport async function fetchTopBooks() {\n  const res = await axios.get(`${API_BASE}/top-books`);\n  return res.data.flatMap(item => item.books);\n}\n\nexport async function fetchBookById(id) {\n  const res = await axios.get(`${API_BASE}/${id}`);\n  return res.data;\n}\n","const menuToggle = document.querySelector('.menu-toggle');\nconst mobileMenu = document.getElementById('mobileMenu');\nconst closeMenu = document.querySelector('.close-menu');\nconst backdrop = document.getElementById('backdrop');\nconst navLinks = document.querySelectorAll('.mobile-nav-links a');\n\nfunction openMenu() {\n  mobileMenu.classList.add('active');\n  backdrop.classList.add('active');\n  document.body.classList.add('menu-open');\n}\n\nfunction closeMobileMenu() {\n  mobileMenu.classList.remove('active');\n  backdrop.classList.remove('active');\n  document.body.classList.remove('menu-open');\n}\n\nmenuToggle?.addEventListener('click', openMenu);\ncloseMenu?.addEventListener('click', closeMobileMenu);\nbackdrop?.addEventListener('click', closeMobileMenu);\nnavLinks?.forEach(link => link.addEventListener('click', closeMobileMenu));\n","\nconst slides = document.querySelectorAll('.slide');\nconst prevBtn = document.querySelector('.prev');\nconst nextBtn = document.querySelector('.next');\nlet current = 0;\n\n// Показує потрібний слайд\nfunction showSlide(index) {\n  slides.forEach((slide, i) => {\n    slide.classList.remove('active');\n    slide.setAttribute('aria-hidden', 'true');\n    if (i === index) {\n      slide.classList.add('active');\n      slide.setAttribute('aria-hidden', 'false');\n    }\n  });\n}\n\n// Підсвічує кнопку на мить (ефект \"active\")\nfunction flashButton(button) {\n  button.classList.add('is-active');\n\n  // Знімаємо фокус, щоб уникнути залипання стилів\n  button.blur();\n\n  // Прибираємо клас через 150 мс\n  setTimeout(() => {\n    button.classList.remove('is-active');\n  }, 350);\n}\n\n// Ініціалізація слайдера\nif (slides.length > 0) {\n  prevBtn.addEventListener('click', () => {\n    current = (current - 1 + slides.length) % slides.length;\n    showSlide(current);\n    flashButton(prevBtn);\n  });\n\n  nextBtn.addEventListener('click', () => {\n    current = (current + 1) % slides.length;\n    showSlide(current);\n    flashButton(nextBtn);\n  });\n\n  // Автоперемикання слайдів\n  setInterval(() => {\n    current = (current + 1) % slides.length;\n    showSlide(current);\n  }, 7000);\n}","import {\n  fetchCategories,\n  fetchBooksByCategory,\n  fetchTopBooks,\n  fetchBookById,\n} from './api.js';\n\n// Loader control start\nfunction showLoader(target = document.body) {\n  const loaderWrap = document.createElement('div');\n  loaderWrap.className = 'loader-backdrop';\n  loaderWrap.style.cssText = `\n    position: fixed;\n    z-index: 1200;\n    inset: 0;\n    width: 100vw;\n    height: 100vh;\n    background: rgba(252,238,230,0.7);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  `;\n  loaderWrap.innerHTML = `\n  <div class=\"loader\">\n    <span class=\"loader-booksy-title\">Booksy</span>\n  </div>\n  `;\n  loaderWrap.id = 'main-loader';\n  target.appendChild(loaderWrap);\n}\nfunction hideLoader() {\n  const exist = document.getElementById('main-loader');\n  if (exist) exist.remove();\n}\n// Loader control end\n\nconst booksList = document.getElementById('books-list');\nconst booksCount = document.getElementById('books-count');\nconst showMoreBtn = document.getElementById('show-more-btn');\nconst categoriesDropdownBtn = document.getElementById('categoriesDropdownBtn');\nconst categoriesDropdownList = document.getElementById(\n  'categoriesDropdownList'\n);\nconst categoriesDropdownSelected = document.getElementById(\n  'categoriesDropdownSelected'\n);\nconst sideBarCategoryList = document.querySelector('.sidebar-category-list');\n\n// Буглак: додав функцію перетворення назв так, щоб згідно макету кожне слово з великої літери,\n// а не усі слова великими літерами\nfunction capitalizeWords(str) {\n  return str\n    .split(' ')\n    .map(word => word.charAt(0).toUpperCase() + word.slice(1).toLowerCase())\n    .join(' ');\n}\n\nlet categoriesArr = [];\nlet selectedDropdownIdx = 0;\nlet allBooks = [];\nlet filteredBooks = [];\nlet displayedCount = 0;\nlet totalCount = 0;\nlet currentCategory = '';\n\nconst BREAKPOINT_TABLET = 768;\nconst BREAKPOINT_DESCTOP = 1440;\nconst BOOKS_PER_PAGE_MOBILE = 10;\nconst BOOKS_PER_PAGE_TABLET = 24;\nconst BOOKS_PER_PAGE_INCREMENT = 4;\n\nfunction getBooksPerPage() {\n  const width = window.innerWidth;\n  if (width < BREAKPOINT_TABLET) return BOOKS_PER_PAGE_MOBILE;\n  return BOOKS_PER_PAGE_TABLET;\n}\nlet booksPerPage = getBooksPerPage();\n\n// Responsive booksPerPage\nwindow.addEventListener('resize', () => {\n  const newPerPage = getBooksPerPage();\n  if (newPerPage !== booksPerPage) {\n    booksPerPage = newPerPage;\n    displayedCount = Math.min(displayedCount, booksPerPage);\n    renderBooksList();\n  }\n});\n\n// Dropdown\nasync function renderCategoriesDropdown() {\n  showLoader();\n  try {\n    categoriesArr = await fetchCategories();\n    categoriesDropdownSelected.textContent = 'Categories';\n    categoriesDropdownList.innerHTML = `\n    <li role=\"option\" tabindex=\"0\" data-idx=\"0\" class=\"selected\">All categories</li>\n    ${categoriesArr\n      .map(\n        (cat, idx) =>\n          `<li role=\"option\" tabindex=\"0\" data-idx=\"${idx + 1}\">${\n            cat.list_name\n          }</li>`\n      )\n      .join('')}\n  `;\n  } finally {\n    hideLoader();\n  }\n}\n\nfunction openCategoriesDropdown() {\n  categoriesDropdownList.classList.add('open');\n  categoriesDropdownBtn.setAttribute('aria-expanded', 'true');\n  setTimeout(() => categoriesDropdownList.focus(), 0);\n}\n\nfunction closeCategoriesDropdown() {\n  categoriesDropdownList.classList.remove('open');\n  categoriesDropdownBtn.setAttribute('aria-expanded', 'false');\n}\n\ncategoriesDropdownBtn.addEventListener('click', e => {\n  if (\n    e.target.closest('.dropdown-arrow-wrap') ||\n    e.target === categoriesDropdownBtn\n  ) {\n    categoriesDropdownList.classList.contains('open')\n      ? closeCategoriesDropdown()\n      : openCategoriesDropdown();\n  }\n});\n\ncategoriesDropdownBtn.addEventListener('keydown', e => {\n  if (e.key === 'Enter' || e.key === ' ' || e.key === 'ArrowDown') {\n    e.preventDefault();\n    openCategoriesDropdown();\n    categoriesDropdownList.querySelector('li.selected')?.focus();\n  }\n});\n\ncategoriesDropdownList.addEventListener('click', e => {\n  if (e.target.tagName === 'LI') {\n    selectCategoryDropdown(Number(e.target.dataset.idx));\n    closeCategoriesDropdown();\n  }\n});\n\ncategoriesDropdownList.addEventListener('keydown', e => {\n  const items = Array.from(categoriesDropdownList.querySelectorAll('li'));\n  let idx = items.findIndex(li => li.classList.contains('selected'));\n  if (e.key === 'ArrowDown' && idx < items.length - 1) {\n    e.preventDefault();\n    items[idx].classList.remove('selected');\n    idx++;\n    items[idx].classList.add('selected');\n    items[idx].focus();\n  }\n  if (e.key === 'ArrowUp' && idx > 0) {\n    e.preventDefault();\n    items[idx].classList.remove('selected');\n    idx--;\n    items[idx].classList.add('selected');\n    items[idx].focus();\n  }\n  if (e.key === 'Enter' || e.key === ' ') {\n    e.preventDefault();\n    selectCategoryDropdown(idx);\n    closeCategoriesDropdown();\n    categoriesDropdownBtn.focus();\n  }\n  if (e.key === 'Escape') {\n    closeCategoriesDropdown();\n    categoriesDropdownBtn.focus();\n  }\n});\n\ndocument.addEventListener('mousedown', e => {\n  if (\n    !categoriesDropdownBtn.contains(e.target) &&\n    !categoriesDropdownList.contains(e.target)\n  )\n    closeCategoriesDropdown();\n});\n\nfunction selectCategoryDropdown(idx) {\n  selectedDropdownIdx = idx;\n  const items = Array.from(categoriesDropdownList.querySelectorAll('li'));\n  items.forEach(li => li.classList.remove('selected'));\n  items[idx].classList.add('selected');\n  categoriesDropdownSelected.textContent = 'Categories';\n  if (idx === 0) {\n    currentCategory = '';\n    loadBooks('');\n  } else {\n    currentCategory = categoriesArr[idx - 1].list_name;\n    loadBooks(currentCategory);\n  }\n}\n\n// Books loading and rendering\nasync function loadBooks(category = '') {\n  showLoader();\n  try {\n    if (category) {\n      allBooks = await fetchBooksByCategory(category);\n    } else {\n      allBooks = await fetchTopBooks();\n    }\n    filteredBooks = allBooks;\n    totalCount = filteredBooks.length;\n    booksPerPage = getBooksPerPage();\n    displayedCount = Math.min(booksPerPage, totalCount);\n    renderBooksList();\n  } finally {\n    hideLoader();\n  }\n}\n\nfunction renderBook(book) {\n  const { book_image, _id, author, price, title } = book;\n  const width = window.innerWidth;\n  let n;\n  if (width >= BREAKPOINT_DESCTOP) {\n    n = 15;\n  } else if (width < BREAKPOINT_DESCTOP) {\n    n = 30;\n  }\n\n  return `\n    <li class=\"books-item\">\n      <img class=\"books-item__img\" src=\"${book_image}\" alt=\"${title}\" loading=\"lazy\">\n      <div class=\"books-item__info\">\n        <h3 class=\"books-item__title\">${getNewTitle(title, n)}</h3>\n        <span class=\"books-item__price\">$${price || '—'}</span>\n      </div>\n      <div class=\"books-item__author\">${getNewTitle(author, 30)}</div>\n      <button type=\"button\" class=\"books-item__btn\" data-id=\"${_id}\">Learn More</button>\n    </li>\n  `;\n}\n\nfunction renderBooksList() {\n  booksList.innerHTML = filteredBooks\n    .slice(0, displayedCount)\n    .map(renderBook)\n    .join('');\n  booksCount.textContent = `Showing ${Math.min(\n    displayedCount,\n    totalCount\n  )} of ${totalCount}`;\n  if (displayedCount >= totalCount) {\n    showMoreBtn.style.display = 'none';\n  } else {\n    showMoreBtn.style.display = 'block';\n  }\n}\n\n// SideBar\nrenderCategoriesSidebar();\n\nasync function renderCategoriesSidebar() {\n  showLoader();\n  try {\n    categoriesArr = await fetchCategories();\n    sideBarCategoryList.innerHTML = `\n    <li class=\"sidebar-category\" data-idx=\"0\"\">All categories</li>\n    ${categoriesArr\n      .map(\n        (cat, idx) =>\n          `<li class=\"sidebar-category\" data-idx=\"${idx + 1}\" data-category=\"${\n            cat.list_name\n          }\">${cat.list_name}</li>`\n      )\n      .join('')}\n  `;\n    sideBarCategoryList.addEventListener('click', onClick);\n  } finally {\n    hideLoader();\n  }\n}\n\nfunction onClick(event) {\n  const idx = Number(event.target.dataset.idx);\n  if (idx === 0) {\n    currentCategory = '';\n    loadBooks('');\n  } else {\n    const currentCategory = event.target.dataset.category;\n    loadBooks(currentCategory);\n  }\n}\n\n// Update title in book card\nfunction getNewTitle(string, n) {\n  const arr = string.split(' ');\n  let newArr = [];\n  arr.forEach(item => {\n    newArr.push(item.charAt(0).toUpperCase() + item.slice(1).toLowerCase());\n  });\n  const res = newArr.join(' ');\n  if (res.length >= n) {\n    return res.slice(0, n).trim() + '...';\n  }\n  return res;\n}\n\n// Show More\nshowMoreBtn.addEventListener('click', () => {\n  displayedCount = Math.min(\n    displayedCount + BOOKS_PER_PAGE_INCREMENT,\n    totalCount\n  );\n  renderBooksList();\n});\n\n// Modal open (click on Learn More, imported from modal.js)\nbooksList.addEventListener('click', async e => {\n  if (e.target.classList.contains('books-item__btn')) {\n    showLoader();\n    try {\n      const bookId = e.target.dataset.id;\n      const book = await fetchBookById(bookId);\n      if (window.openBookModal && typeof window.openBookModal === 'function') {\n        window.openBookModal(book);\n      }\n    } finally {\n      hideLoader();\n    }\n  }\n});\n\n(async function initBooksSection() {\n  await renderCategoriesDropdown();\n  selectCategoryDropdown(0);\n})();\n","import Swiper from 'swiper';\nimport {\n  Navigation,\n  Pagination,\n  Keyboard,\n  Mousewheel,\n  A11y,\n} from 'swiper/modules';\nimport 'swiper/css';\nimport 'swiper/css/navigation';\nimport 'swiper/css/pagination';\n\nconst swiper = new Swiper('.feedback-content', {\n  modules: [Navigation, Pagination, Keyboard, Mousewheel, A11y],\n  slidesPerView: 1,\n  spaceBetween: 24,\n  loop: false,\n  pagination: {\n    el: '.swiper-pagination',\n    clickable: true,\n  },\n  navigation: {\n    nextEl: '.swiper-button-next',\n    prevEl: '.swiper-button-prev',\n  },\n  keyboard: {\n    enabled: true,\n    onlyInViewport: true,\n  },\n  mousewheel: {\n    forceToAxis: true,\n  },\n  a11y: {\n    enabled: true,\n  },\n  breakpoints: {\n    768: {\n      slidesPerView: 2,\n      spaceBetween: 24,\n    },\n    1440: {\n      slidesPerView: 3,\n      spaceBetween: 24,\n    },\n  },\n});\n\nswiper.on('slideChange', () => {\n  const prevBtn = document.querySelector('.swiper-button-prev');\n  const nextBtn = document.querySelector('.swiper-button-next');\n\n  if (swiper.isBeginning) {\n    prevBtn.classList.add('is-disabled');\n  } else {\n    prevBtn.classList.remove('is-disabled');\n  }\n\n  if (swiper.isEnd) {\n    nextBtn.classList.add('is-disabled');\n  } else {\n    nextBtn.classList.remove('is-disabled');\n  }\n});\n\nswiper.emit('slideChange');\n","import Swiper from 'swiper';\nimport 'swiper/css';\nimport 'swiper/css/navigation';\nimport 'swiper/css/pagination';\n\nimport { Navigation, Pagination, Autoplay } from 'swiper/modules';\n\nfunction initSwiper() {\n  const container = document.querySelector('.swiper.events-carousel');\n  if (!container) return;\n\n  const prev = document.querySelector('.events-button-prev');\n  const next = document.querySelector('.events-button-next');\n  const paginationEl = document.querySelector('.swiper-pagination');\n\n  const swiper = new Swiper(container, {\n    modules: [Navigation, Pagination, Autoplay],\n    slidesPerView: 1,\n    spaceBetween: 24,\n    observer: true,\n    observeParents: true,\n    loop: true,              \n    autoplay: {\n      delay: 4000,             \n      disableOnInteraction: false, \n    },\n    speed: 800,\n    pagination: { el: paginationEl, clickable: true },\n    navigation: { nextEl: next, prevEl: prev }, \n    breakpoints: {\n      768: { slidesPerView: 2, spaceBetween: 24 },\n      1440: { slidesPerView: 3, spaceBetween: 24 },\n    },\n    on: {\n      init() {\n        toggleNav(this);\n      },\n      resize() {\n        toggleNav(this);\n      },\n      slideChange() {\n        toggleNav(this);\n      },\n    },\n  });\n\n  container.addEventListener('mouseenter', () => swiper.autoplay.stop());\n  container.addEventListener('mouseleave', () => swiper.autoplay.start());\n\n  function toggleNav(sw) {\n    const total = sw.slides.length;\n    const visible = Math.floor(sw.params.slidesPerView) || 1;\n    const hideAll = total <= visible;\n\n    if (prev && next) {\n      if (hideAll) {\n        prev.classList.add('is-hidden');\n        next.classList.add('is-hidden');\n      } else {\n        prev.classList.remove('is-hidden');\n        next.classList.remove('is-hidden');\n        prev.classList.toggle('swiper-button-disabled', sw.isBeginning);\n        next.classList.toggle('swiper-button-disabled', sw.isEnd);\n      }\n    }\n\n    if (paginationEl) {\n      paginationEl.style.display = hideAll ? 'none' : 'flex';\n    }\n  }\n}\n\ndocument.addEventListener('DOMContentLoaded', initSwiper);\n\n\nconst registerButtons = document.querySelectorAll('.events-register');\nregisterButtons.forEach(button => {\n    button.addEventListener('click', (event) => {\n        event.preventDefault();\n        const li = event.currentTarget.closest('.events-list-element');\n        const eventTitle = li.querySelector('.events-name').textContent.trim();\n        document.querySelector('.contact-modal-overlay').classList.add('open');\n        document.body.style.overflow = 'hidden';\n        document.querySelector('.contact-modal-event').textContent = eventTitle;\n    });\n});","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('.footer-form');\nconst input = document.querySelector('.footer-form-input');\n\nform.addEventListener('submit', function (event) {\n  event.preventDefault();\n\n  const email = input.value.trim();\n  const pattern = /^\\w+(\\.\\w+)?@[a-zA-Z_]+?\\.[a-zA-Z]{2,3}$/;\n\n  if (!pattern.test(email)) {\n    iziToast.error({\n      message: 'Please enter a valid email address.',\n      closeOnClick: true,\n      position: 'topRight',\n      backgroundColor: 'var(--color-invalid)',\n      messageColor: 'var(--color-surface-light)',\n    });\n    return;\n  }\n\n  localStorage.setItem('userEmail', email);\n  iziToast.success({\n    message: 'Thank you for signing up!',\n    closeOnClick: true,\n    position: 'topRight',\n    backgroundColor: 'var(--color-primary)',\n    messageColor: 'var(--color-surface-light)',\n  });\n  input.value = '';\n});\n","//#region BV book modal\n\nimport Accordion from 'accordion-js';\nimport 'accordion-js/dist/accordion.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n// Ініціалізація елементів модалки\nconst bookModal = document.querySelector('.book-modal-overlay');\nconst bookModalClose = document.querySelector('.book-modal-close');\n// Можлива ініціалізація інформації про вміст товару в корзині\nconst productAmount = document.querySelector('.prod-count');\nconst counterAdd = document.querySelector('#btn-add');\nconst counterReduce = document.querySelector('#btn-reduce');\nconst counter = document.querySelector('.counter');\nconst addToCart = document.querySelector('.add-btn');\nconst buyNow = document.querySelector('.book-modal-buy-btn');\nconst bookImg = document.querySelector('.book-modal-img');\nconst bookInfo = document.querySelector('#book-modal-info');\nconst bookName = document.querySelector('.book-modal-name');\nconst bookAuthor = document.querySelector('.book-modal-author');\nconst bookPrice = document.querySelector('.book-modal-price');\n\nlet modalCount = 0;\n\n// Нормування назви товару з бази даних (Перша літера лише велика)\nfunction capitalizeFirst(str) {\n  return str.charAt(0).toUpperCase() + str.slice(1).toLowerCase();\n}\n\n// Відкриття модалки (з використанням books.js)\nwindow.openBookModal = function (book) {\n  if (!bookModal) return;\n\n  // Оновлення даних модалки\n  bookImg.src = book.book_image;\n  bookImg.alt = book.title;\n  bookName.textContent = capitalizeFirst(book.title);\n  bookAuthor.textContent = book.author;\n  bookPrice.textContent = `$${book.price || '—'}`;\n  bookInfo.textContent = book.description || 'No info';\n  counter.textContent = '0';\n  modalCount = 0;\n  // Відкриття самої модалки\n  bookModal.classList.add('open');\n  document.body.style.overflow = 'hidden';\n  bookModalClose && bookModalClose.focus();\n  const itemCount = localStorage.getItem(bookName.textContent) || 0;\n  // Перевірка на наявність продукту у корзині\n  if (!itemCount) {\n    productAmount.innerHTML = '';\n  } else {\n    productAmount.innerHTML = `Total amount of this product in cart: ${localStorage.getItem(\n      bookName.textContent\n    )}`;\n  }\n};\n\n// Додавання та віднімання кількості товару\ncounterAdd.addEventListener('click', () => {\n  modalCount++;\n  counter.textContent = modalCount;\n});\n\ncounterReduce.addEventListener('click', () => {\n  if (modalCount === 0) {\n    return;\n  }\n  modalCount--;\n  counter.textContent = modalCount;\n});\n\n// Функціонал закриття модалки (кліком по іконці, за межами модалки та натисканням Esc)\nconst modalClose = () => {\n  bookModal.classList.remove('open');\n  document.body.style.overflow = '';\n};\nbookModalClose.addEventListener('click', () => {\n  modalClose();\n});\n\ndocument.addEventListener('keydown', event => {\n  if (event.key !== 'Escape') {\n    return;\n  }\n  modalClose();\n});\n\nbookModal.addEventListener('click', event => {\n  if (event.currentTarget !== event.target) {\n    return;\n  }\n  modalClose();\n});\n\n// Функціонал додавання товару до корзини (незалежно від кількості товару на лічильнику (якщо не 0))\naddToCart.addEventListener('click', () => {\n  if (counter.textContent === '0' || modalCount === 0) {\n    iziToast.error({\n      message: 'Take the product firstly!',\n      position: 'bottomCenter',\n      backgroundColor: 'var(--color-invalid)',\n      messageColor: 'var(--color-surface-light)',\n      closeOnClick: true,\n    });\n    return;\n  }\n  const itemCount = localStorage.getItem(bookName.textContent) || 0;\n  const updatedCount = parseInt(itemCount) + modalCount;\n  localStorage.setItem(bookName.textContent, updatedCount);\n  // Функціонал отримання інформації про вміст товару в корзині\n  productAmount.innerHTML = `Total amount of this product in cart: ${updatedCount}`;\n  iziToast.success({\n    message: `Added to cart: ${modalCount} (In cart: ${updatedCount} of this product)`,\n    position: 'bottomCenter',\n    backgroundColor: 'var(--color-primary)',\n    messageColor: 'var(--color-surface-light)',\n    closeOnClick: true,\n  });\n});\n\n// Купівля товару (якщо в корзині є цей товар (тобто кількість !== 0))\nbuyNow.addEventListener('click', () => {\n  const storedCount = parseInt(localStorage.getItem(bookName.textContent)) || 0;\n  if (storedCount === 0) {\n    iziToast.error({\n      message: 'Take the product firstly!',\n      closeOnClick: true,\n      position: 'bottomCenter',\n      backgroundColor: 'var(--color-invalid)',\n      messageColor: 'var(--color-surface-light)',\n    });\n    return;\n  }\n  iziToast.success({\n    message: 'Thanks for purchasing!',\n    closeOnClick: true,\n    position: 'bottomCenter',\n    backgroundColor: 'var(--color-primary)',\n    messageColor: 'var(--color-surface-light)',\n  });\n});\n\n// Функціонал відкриття вкладок з інформацією про товар, доставку та повернення\nnew Accordion('.accordion-container', {\n  duration: 300,\n  showMultiple: true,\n  onOpen: currentElement => {\n    // Функціонал скроллу після відкриття кожної вкладки на його висоту\n    // (задля зручності користувачу дістатись іншої вкладки без зусиль)\n    const height = currentElement.getBoundingClientRect().height;\n    bookModal.scrollBy({\n      top: height,\n      behavior: 'smooth',\n    });\n  },\n  onClose: () => {\n    // Функціонал скроллу до початку сторінки (саме вікна модалки, тобто bookModal.clientHeight)\n    // у випадку, коли ВСІ вкладки закриті\n    const accordions = document.querySelectorAll('.ac');\n    const anyOpen = Array.from(accordions).some(ac =>\n      ac.classList.contains('is-active')\n    );\n    if (!anyOpen) {\n      bookModal.scrollTo({\n        top: 0,\n        behavior: 'smooth',\n      });\n    }\n  },\n});\n\n// #endregion BV book modal\n\n// Modal elems\n// const bookModalOverlay = document.getElementById('bookModalOverlay');\n// const bookModalClose = document.getElementById('modalCloseBtn');\n// const modalImg = document.getElementById('modalImg');\n// const modalTitle = document.getElementById('modalTitle');\n// const modalAuthor = document.getElementById('modalAuthor');\n// const modalPrice = document.getElementById('modalPrice');\n// const modalCounter = document.getElementById('modalCounter');\n// const modalMinusBtn = document.getElementById('modalMinusBtn');\n// const modalPlusBtn = document.getElementById('modalPlusBtn');\n// const modalAddBtn = document.getElementById('modalAddBtn');\n// const modalBuyBtn = document.getElementById('modalBuyBtn');\n// const modalAccordion = document.getElementById('modalAccordion');\n\n// let modalCount = 0;\n\n// Closing the modal (cross, click on the bg, esc)\n// function closeModal() {\n//   bookModalOverlay?.classList.remove('open');\n//   document.body.style.overflow = '';\n// }\n// if (bookModalClose) {\n//   bookModalClose.addEventListener('click', closeModal);\n// }\n// if (bookModalOverlay) {\n//   bookModalOverlay.addEventListener('click', e => {\n//     if (e.target === bookModalOverlay) closeModal();\n//   });\n// }\n// document.addEventListener('keydown', e => {\n//   if (e.key === 'Escape' && bookModalOverlay?.classList.contains('open')) {\n//     closeModal();\n//   }\n// });\n\n// Counter\n// if (modalMinusBtn && modalCounter) {\n//   modalMinusBtn.addEventListener('click', () => {\n//     if (modalCount > 0) modalCount--;\n//     modalCounter.textContent = modalCount;\n//   });\n// }\n// if (modalPlusBtn && modalCounter) {\n//   modalPlusBtn.addEventListener('click', () => {\n//     modalCount++;\n//     modalCounter.textContent = modalCount;\n//   });\n// }\n\n// Add to cart\n// if (modalAddBtn) {\n//   modalAddBtn.addEventListener('click', () => {\n//     if(modalCount === 0 || modalCounter.textContent === 0) {\n//         iziToast.error({\n//             message: 'Спочатку візьміть товар',\n//             position: 'bottomCenter',\n//             backgroundColor: 'var(--color-invalid)',\n//             messageColor: \"white\",\n//             closeOnClick: true,\n//         });\n//         return;\n//     }\n//     iziToast.success({\n//       message: `Добавлено в корзину: ${modalCount}`,\n//       position: 'bottomCenter',\n//       backgroundColor: 'var(--color-primary)',\n//       messageColor: 'white',\n//       closeOnClick: true,\n//     });\n//   });\n// }\n\n// Buy now\n// if (modalBuyBtn) {\n//   modalBuyBtn.addEventListener('click', () => {\n//     iziToast.success({\n//       message: 'Дякуємо за покупку',\n//       position: 'bottomCenter',\n//       backgroundColor: 'var(--color-primary)',\n//       messageColor: 'white',\n//       closeOnClick: true,\n//     });\n//   });\n// }\n\n// Accordion (details/shipping/returns)\n// function buildAccordion(book) {\n//   if (!modalAccordion) return;\n//   modalAccordion.innerHTML = '';\n//   const data = [\n//     { title: 'Details', content: book.description || 'No info' },\n//     {\n//       title: 'Shipping',\n//       content:\n//         'We ship across the United States within 2–5 business days. All orders are processed through USPS or a reliable courier service. Enjoy free standard shipping on orders over $50.',\n//     },\n//     {\n//       title: 'Returns',\n//       content:\n//         'You can return an item within 14 days of receiving your order, provided it hasn’t been used and is in its original condition. To start a return, please contact our support team — we’ll guide you through the process quickly and hassle-free.',\n//     },\n//   ];\n//   data.forEach((item, idx) => {\n//     const section = document.createElement('div');\n//     section.className = 'ac' + (idx === 0 ? ' is-active' : '');\n//     section.innerHTML = `\n//         <h2 class=\"ac-header\">\n//           <button type=\"button\" class=\"ac-trigger\">${item.title}\n//             <div class=\"icon-box\">\n//               <svg class=\"trigger-icon\" width=\"12\" height=\"12\"><use href=\"sprite.svg#smooth-arrow-down\"></use></svg>\n//             </div>\n//           </button>\n//         </h2>\n//         <div class=\"ac-panel\">\n//           <p class=\"ac-text\">${item.content}</p>\n//         </div>\n//       `;\n//     modalAccordion.appendChild(section);\n//   });\n//   new Accordion('.accordion-container', {\n//     duration: 200,\n//     showMultiple: true,\n//     openOnInit: [0],\n//   });\n// }\n\n// contact modal\n\nconst contactModal = document.querySelector('.contact-modal-overlay');\nconst contactModalClose = document.querySelector('.contact-modal-close');\nconst contactForm = document.querySelector('.contact-modal-form');\n\ncontactModalClose.addEventListener('click', () => {\n  contactModal.classList.remove('open');\n  closeContactModal();\n});\n\ndocument.addEventListener('keydown', event => {\n  if (event.key !== 'Escape') {\n    return;\n  }\n  contactModal.classList.remove('open');\n  closeContactModal();\n});\n\ncontactModal.addEventListener('click', event => {\n  if (event.currentTarget !== event.target) {\n    return;\n  }\n  contactModal.classList.remove('open');\n  closeContactModal();\n});\n\ncontactForm.addEventListener('submit', function (event) {\n  event.preventDefault();\n\n  const contactInputs = contactForm.querySelectorAll('.contact-form-input');\n  let isValid = true;\n\n  contactInputs.forEach(input => {\n    if (!input.checkValidity()) {\n      isValid = false;\n      input.classList.add('invalid');\n      iziToast.error({\n        message: `${input.name} is not valid.`,\n        position: 'bottomCenter',\n        closeOnClick: true,\n        backgroundColor: 'var(--color-invalid)',\n        messageColor: 'var(--color-surface-light)',\n      });\n    } else {\n      input.classList.remove('invalid');\n    }\n  });\n\n  if (isValid) {\n    iziToast.success({\n      message: `Registered successfully.`,\n      position: 'bottomCenter',\n      closeOnClick: true,\n      backgroundColor: 'var(--color-primary)',\n      messageColor: 'var(--color-surface-light)',\n    });\n    contactForm.reset();\n  }\n});\n\nfunction closeContactModal() {\n  document.querySelector('.contact-modal-overlay').classList.remove('open');\n  document.body.style.overflow = '';\n}\n","const scrollToTopBtn = document.getElementById('scrollToTopBtn');\n\nwindow.addEventListener('scroll', () => {\n  const scrolled = window.scrollY;\n  const halfViewport = window.innerHeight / 2;\n\n  if (scrolled > halfViewport) {\n    scrollToTopBtn.classList.add('show');\n  } else {\n    scrollToTopBtn.classList.remove('show');\n  }\n});\n\nscrollToTopBtn.addEventListener('click', () => {\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth',\n  });\n});"],"names":["API_BASE","fetchCategories","axios","fetchBooksByCategory","category","fetchTopBooks","item","fetchBookById","id","menuToggle","mobileMenu","closeMenu","backdrop","navLinks","openMenu","closeMobileMenu","link","slides","prevBtn","nextBtn","current","showSlide","index","slide","i","flashButton","button","showLoader","target","loaderWrap","hideLoader","exist","booksList","booksCount","showMoreBtn","categoriesDropdownBtn","categoriesDropdownList","categoriesDropdownSelected","sideBarCategoryList","categoriesArr","allBooks","filteredBooks","displayedCount","totalCount","currentCategory","BREAKPOINT_TABLET","BREAKPOINT_DESCTOP","BOOKS_PER_PAGE_MOBILE","BOOKS_PER_PAGE_TABLET","BOOKS_PER_PAGE_INCREMENT","getBooksPerPage","booksPerPage","newPerPage","renderBooksList","renderCategoriesDropdown","cat","idx","openCategoriesDropdown","closeCategoriesDropdown","_a","selectCategoryDropdown","items","li","loadBooks","renderBook","book","book_image","_id","author","price","title","width","n","getNewTitle","renderCategoriesSidebar","onClick","event","string","arr","newArr","res","bookId","swiper","Swiper","Navigation","Pagination","Keyboard","Mousewheel","A11y","initSwiper","container","prev","next","paginationEl","Autoplay","toggleNav","sw","total","visible","hideAll","registerButtons","eventTitle","form","input","email","iziToast","bookModal","bookModalClose","productAmount","counterAdd","counterReduce","counter","addToCart","buyNow","bookImg","bookInfo","bookName","bookAuthor","bookPrice","modalCount","capitalizeFirst","str","modalClose","itemCount","updatedCount","Accordion","currentElement","height","accordions","ac","contactModal","contactModalClose","contactForm","closeContactModal","contactInputs","isValid","scrollToTopBtn","scrolled","halfViewport"],"mappings":"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"}